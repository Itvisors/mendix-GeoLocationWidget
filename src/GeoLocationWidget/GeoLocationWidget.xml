<?xml version="1.0" encoding="utf-8" ?>
<widget id="GeoLocationWidget.widget.GeoLocationWidget" needsEntityContext="true" xmlns="http://www.mendix.com/widget/1.0/">
    <name>GeoLocationWidget</name>
    <description>Use Google client library to get current location. The Google client library takes WiFi access points into account to determine the location.</description>

    <icon></icon>

    <properties>
		<property key="buttonLabel" type="translatableString" required="true">
            <caption>Label</caption>
            <category>Button</category>
            <description>The label to show on the button</description>
            <translations>
                <translation lang="en_GB">Get location</translation>
                <translation lang="en_US">Get location</translation>
                <translation lang="nl_NL">Bepaal locatie</translation>
            </translations>

        </property>
        <property key="buttonClass" type="string" required="false">
            <caption>Class</caption>
            <category>Styling</category>
            <description>The class to use on the button. If not specified, btn-primary is used.</description> 
        </property>
		<property key="latAttr" type="attribute" required="true">
            <caption>Latitude attribute</caption>
            <category>Location</category>
            <description>Latitude attribute, must be a decimal</description> 
            <attributeTypes>
                <attributeType name="Decimal"/>
            </attributeTypes>
        </property>
        <property key="longAttr" type="attribute" required="true">
            <caption>Longitude attribute</caption>
            <category>Location</category>
            <description>Longitude attribute, must be a decimal</description> 
            <attributeTypes>
                <attributeType name="Decimal"/>
            </attributeTypes>
        </property>
        <property key="onChangeMF" type="microflow" required="false">
            <caption>On change microflow</caption>
            <category>Location</category>
            <description>Microflow to be called when location is determined</description> 
            <returnType type="Void"/>
        </property>
        <property key="reverseGeoCodingAction" type="enumeration" defaultValue="firstResult">
            <caption>Do reverse geocoding</caption>
            <category>Reverse Geocoding</category>
            <description>Reverse geocoding action.</description>
            <enumerationValues>
                <enumerationValue key="firstResult">First result in address</enumerationValue>
                <enumerationValue key="fullResult">Full JSON result</enumerationValue>
                <enumerationValue key="locationOnly">None, location only</enumerationValue>
            </enumerationValues>
        </property>
		<property key="address" type="attribute" required="false">
            <caption>Address</caption>
            <category>Reverse Geocoding</category>
            <description>Address to store result</description> 
            <attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
		<property key="reverseGeocodingResultJson" type="attribute" required="false">
            <caption>Reverse geocoding result JSON</caption>
            <category>Reverse Geocoding</category>
            <description>The full JSON response of the Google reverse geocoding is put on this attribute. Use an unlimited string!</description> 
            <attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
    </properties>
</widget>

