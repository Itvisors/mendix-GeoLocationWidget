<?xml version="1.0" encoding="utf-8" ?>
<widget id="GeoLocationWidget.widget.GeoLocationWidget" needsEntityContext="true" xmlns="http://www.mendix.com/widget/1.0/">
    <name>GeoLocationWidget</name>
    <description>Use Google client library to get current location. The Google client library takes WiFi access points into account to determine the location.</description>

    <icon></icon>

    <properties>
		<property key="buttonLabel" type="translatableString" required="true">
            <caption>Label</caption>
            <category>Button</category>
            <description>The label to show on the button</description>
            <translations>
                <translation lang="en_GB">Get location</translation>
                <translation lang="en_US">Get location</translation>
                <translation lang="nl_NL">Bepaal locatie</translation>
            </translations>

        </property>
		<property key="latAttr" type="attribute" required="true">
            <caption>Latitude attribute</caption>
            <category>Location</category>
            <description>Latitude attribute, must be a decimal</description> 
            <attributeTypes>
                <attributeType name="Decimal"/>
            </attributeTypes>
        </property>
        <property key="longAttr" type="attribute" required="true">
            <caption>Longitude attribute</caption>
            <category>Location</category>
            <description>Longitude attribute, must be a decimal</description> 
            <attributeTypes>
                <attributeType name="Decimal"/>
            </attributeTypes>
        </property>
        <property key="onChangeMF" type="microflow" required="false">
            <caption>On change microflow</caption>
            <category>Location</category>
            <description>Microflow to be called when location is determined</description> 
            <returnType type="Void"/>
        </property>
        <property key="apiAccessKey" type="string" required="false">
            <caption>Maps API Access Key</caption>
            <category>Map</category>
            <description>The Google Maps JavaScript API key.</description>
        </property>        
        <property key="markerDisplayAttr" type="attribute" required="false">
            <caption>Marker attribute</caption>
            <category>Map</category>
            <description>The attribute that will be displayed in the marker info bubble. (Not required)</description>
            <attributeTypes>
                <attributeType name="String"/> 
            </attributeTypes>
        </property>
        <property key="defaultLat" type="string" defaultValue="0.0">
            <caption>Default latitude</caption>
            <category>Map</category>
            <description>Default latitude for the map to start at.</description> 
        </property>
        <property key="defaultLng" type="string" defaultValue="0.0">
            <caption>Default longitude</caption>
            <category>Map</category>
            <description>Default longitude for the map to start at.</description> 
        </property>
        <property key="defaultZoom" type="integer" defaultValue="15">
            <caption>Default zoom level</caption>
            <category>Map</category>
            <description>The default zoom level used when creating the map. 1 is the whole world, 15 is city level, 20 is house level.</description> 
        </property>        
        <property key="reverseGeoCodingAction" type="enumeration" defaultValue="firstResult">
            <caption>Do reverse geocoding</caption>
            <category>Reverse Geocoding</category>
            <description>Reverse geocoding action.</description>
            <enumerationValues>
                <enumerationValue key="firstResult">First result in address</enumerationValue>
                <enumerationValue key="fullResult">Full JSON result</enumerationValue>
                <enumerationValue key="locationOnly">None, location only</enumerationValue>
            </enumerationValues>
        </property>
		<property key="address" type="attribute" required="false">
            <caption>Address</caption>
            <category>Reverse Geocoding</category>
            <description>Address to store result</description> 
            <attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
		<property key="reverseGeocodingResultJson" type="attribute" required="false">
            <caption>Reverse geocoding result JSON</caption>
            <category>Reverse Geocoding</category>
            <description>The full JSON response of the Google reverse geocoding is put on this attribute. Use an unlimited string!</description> 
            <attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
        <property key="buttonClass" type="string" required="false">
            <caption>Button class</caption>
            <category>Styling</category>
            <description>The class to use on the button. If not specified, btn-primary is used.</description> 
        </property>
        <property key="mapClass" type="string" required="false">
            <caption>Map class</caption>
            <category>Styling</category>
            <description>The class to use on the map container. If not specified, the map is set to 100% width and 350px height.</description> 
        </property>
    </properties>
</widget>

